<html>
    <script>
     
        function arredondar (valor){
            return Math.round(valor*100)/100
        }

       function calcularJuros (valor) {
           juros = arredondar(valor * 0.1)
           return juros
       }

       function calcularRendimentos (valor){
        rendimentos = arredondar(valor * 0.005)
        console.log(rendimentos)
        return rendimentos
       }

       function calcularSaldo (mes, saldoInicial, lancamentos) {
            console.log(mes)
            saldo = saldoInicial
            for (lancamento of lancamentos) {
                if (lancamento.tipo === "receita"){
                    //saldo = saldo + lancamento
                    saldo += lancamento.valor
                } else {
                    saldo -= lancamento.valor
                }
            }
            estaNegativo = saldo < 0
            if (estaNegativo) {
                juros = calcularJuros(saldo) 
                saldo = arredondar(saldo + juros)         
            } else {
                rendimentos = calcularRendimentos(saldo)
                saldo = arredondar(saldo + rendimentos)      
            }
            return saldo
        }

        saldoInicial = 0
        lancamentosJaneiro = [
            { categoria: "salario", tipo: "receita", valor: 3000}, 
            { categoria: "aluguel", tipo: "despesa", valor: 1000}, 
            { categoria: "conta de luz", tipo: "depesa", valor: 200}, 
            { categoria: "conta de agua", tipo: "depesa", valor: 100}, 
            { categoria: "internet", tipo: "depesa", valor: 100}, 
            { categoria: "transporte", tipo: "depesa", valor: 300}, 
            { categoria: "lazer", tipo: "depesa", valor: 300}, 
            { categoria: "alimentação", tipo: "depesa", valor: 500}, 
            { categoria: "condominio", tipo: "depesa", valor: 300}, 
            { categoria: "farmacia", tipo: "depesa", valor: 100}
    ]        
        saldo1 = calcularSaldo("Janeiro", 0, lancamentosJaneiro)
        console.log(saldo1)  
        lancamentosFevereiro = [
        { categoria: "salario", tipo: "receita", valor: 3000}, 
        { categoria: "aluguel", tipo: "despesa", valor: 1200}, 
        { categoria: "conta de luz", tipo: "despesa", valor: 250}, 
        { categoria: "conta de agua", tipo: "despesa", valor: 100}, 
        { categoria: "internet", tipo: "despesa", valor: 100}, 
        { categoria: "transporte", tipo: "despesa", valor: 500}, 
        { categoria: "alimentação", tipo: "despesa", valor: 1000}, 
        { categoria: "condominio", tipo: "despesa", valor: 400}
    ]       
        saldo2 = calcularSaldo("Fevereiro", saldo1, lancamentosFevereiro)
        console.log(saldo2)
        lancamentosMarco = [
        { categoria: "salario", tipo: "receita", valor: 4000}, 
        { categoria: "aluguel", tipo: "despesa", valor: 1200}, 
        { categoria: "conta de luz", tipo: "despesa", valor: 200}, 
        { categoria: "conta de agua", tipo: "despesa", valor: 100}, 
        { categoria: "internet", tipo: "despesa", valor: 200}, 
        { categoria: "transporte", tipo: "despesa", valor: 500}, 
        { categoria: "lazer", tipo: "despesa", valor: 800}, 
        { categoria: "alimentação", tipo: "despesa", valor: 1000}, 
        { categoria: "condominio", tipo: "despesa", valor: 400}
    ]
        saldo3 = calcularSaldo("Março", saldo2, lancamentosMarco)
        console.log(saldo3)
        console.log("O valor acumulado do ano foi de: ")
        console.log(saldo3) 
        console.log("ano") 
        
        console.log("Quantidade de lançamentos em Janeiro:", lancamentosJaneiro.length)
        lancamentosJaneiro.pop()
        lancamentosJaneiro.pop()
        lancamentosJaneiro.push ({categoria: "Financiamento", tipo: "despesa", valor: 200})
        for (lancamento of lancamentosJaneiro) {
            console.log(lancamento.categoria, lancamento.valor)
        }
    </script>
</html>  